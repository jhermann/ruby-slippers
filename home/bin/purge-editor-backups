#! /bin/bash
#
# Remove editor backup files in current dir, recursively.
#
set -e

dirs=( "$@" )
test $# -gt 0 || dirs=( "." )

num=$(find "${dirs[@]}" -name '*~' | wc -l)
echo "Purging $num backup files..."

if test $num -gt 0; then
    find "${dirs[@]}" -name '*~' -print0 | xargs -0 rm
fi
